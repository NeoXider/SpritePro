# Урок 4. Лобби и список игроков

## Цель
- Научиться объявлять вход в лобби через сетевое событие.
- Синхронизировать список игроков.
- Понять роль хоста как координатора лобби.

## Требования
- Python 3.7+
- spritePro доступен в проекте

## Теория (кратко)
- Лобби — отдельное состояние до начала игры.
- Событие `join` сообщает о входе игрока.
- Хост поддерживает список игроков и рассылает `roster`.

## EventBus и прямые сообщения
- EventBus — для игровых событий (shoot, ready, start), удобно иметь подписчиков.
- Прямые `net.send()`/`send_every()` — для частых пакетов (позиции), меньше оверхеда.
- EventBus не заменяет сетевой слой, это просто удобная надстройка.

## Практика
1. Запустите `example_lobby.py`.
1. Убедитесь, что список игроков обновляется на обоих клиентах.
1. Посмотрите, как хост формирует `roster`.

## Вопросы для самопроверки
- Почему roster лучше хранить на хосте?
- Что будет, если два клиента отправят `join` одновременно?
- Как можно обработать выход игрока?

## Задания
- В `practice_lobby.py` заполните логику обновления списка игроков.
- Убедитесь, что список одинаков на всех клиентах.
- Добавьте сортировку имен по алфавиту.

## Решение
- См. `solution_lobby.py`.

## Что еще изучить
- Интерполяция и сглаживание движения.
- Авторитетный сервер и базовая валидация.
