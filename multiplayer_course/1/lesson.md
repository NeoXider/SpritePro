# Урок 1. Сетевой слой SpritePro: сообщения и очередь

## Цель
- Понять формат сообщений `event/data`.
- Разобраться, как работает `poll()` и очередь сообщений.
- Увидеть минимальный цикл обмена между сервером и клиентом.

## Требования
- Python 3.7+
- spritePro доступен в проекте

## Теория (кратко)
- Протокол: одна строка JSON на одно сообщение.
- Сервер принимает сообщения и может ретранслировать их.
- Клиент читает входящие сообщения через `poll()` в цикле.

## EventBus и прямые сообщения
- EventBus — для игровых событий (shoot, ready, start), удобно иметь подписчиков.
- Прямые `net.send()`/`send_every()` — для частых пакетов (позиции), меньше оверхеда.
- EventBus не заменяет сетевой слой, это просто удобная надстройка.

## Практика
1. Запустите `example_loopback.py`.
1. Убедитесь, что `hello` доходит до сервера и приходит `welcome`.
1. Найдите места, где отправка и где чтение очереди.

## Вопросы для самопроверки
- Зачем `poll()` вызывать в каждом тике?
- Что будет, если не вызывать `poll()` вообще?
- Почему формат `event/data` удобен для прототипов?

## Задания
- В `practice_loopback.py` реализуйте отправку `ping` каждые 0.5 сек.
- Сервер должен отвечать `pong` и возвращать `tick`.
- Клиент должен считать количество `pong` и печатать счетчик.

## Решение
- См. `solution_loopback.py`.

## Что еще изучить
- Интерполяция и сглаживание движения.
- Авторитетный сервер и базовая валидация.
